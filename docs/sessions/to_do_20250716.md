# To-Do - 2025-07-16 - AmFi

## üìä M√©tricas de Progresso (Atualizado 2025-07-16)
- **Monitores base**: 4/5 (80% - Subordina√ß√£o ‚úÖ, Inadimpl√™ncia ‚úÖ, PDD ‚úÖ, Concentra√ß√£o ‚úÖ)
- **Pools auditados**: 9/44 (20% - UnionNational Pool #5 + E-ctare Pool #1 adicionados)
- **Template**: v2.3 com estrutura h√≠brida processos legais ‚úÖ
- **Monitor Concentra√ß√£o**: v2.1 com an√°lise sequencial + **an√°lise top-N** + filtro entidades ‚úÖ
- **Documenta√ß√£o**: Sincronizada e atualizada ‚úÖ

## üÜï **An√°lise Top-N de Concentra√ß√£o Implementada**
- **Funcionalidade**: An√°lise agregada dos N maiores cedentes e/ou sacados
- **Configura√ß√£o**: JSON com `"tipo": "top_n"`, `"n": 10`, `"limite": 0.70`
- **Retorno**: Percentual agregado dos top-N vs patrim√¥nio l√≠quido
- **Diferencial**: Combina√ß√£o individual + top-N com an√°lise sequencial
- **Visualiza√ß√£o**: Matriz de sobra tabular com capacidade por posi√ß√£o

## üéØ Foco da Sess√£o
**Prioridade**: Completar monitores base (5/5) e testar novas funcionalidades
**Crit√©rio de Sucesso**: Monitor de elegibilidade implementado + an√°lise top-N validada

## üìã Tarefas por Prioridade

### üî• ALTA PRIORIDADE
- [ ] **Testar An√°lise Top-N de Concentra√ß√£o** (implementada mas n√£o validada)
  - Validar configura√ß√£o JSON com `"tipo": "top_n"`
  - Testar agrega√ß√£o dos N maiores cedentes/sacados
  - Verificar an√°lise sequencial com limita√ß√µes duplas (individual + top-N)
  - Confirmar matriz de sobra tabular

- [ ] **Implementar Monitor de Elegibilidade** (1/5 monitores base restante)
  - Crit√©rios gerais de elegibilidade de ativos
  - Interface: `run_eligibility_monitoring()`
  - Integra√ß√£o autom√°tica com orchestrator

- [ ] **Testar Filtro de Entidades** (implementado mas n√£o testado)
  - Validar `/config/monitoring/concentration_filters.json`
  - Testar com "Amfi Digital Assets LTDA"
  - Verificar logs de filtros aplicados

### ‚ö° M√âDIA PRIORIDADE
- [ ] **Documentar An√°lise Top-N** (funcionalidade nova)
  - Atualizar USAGE_EXAMPLES.md com exemplos pr√°ticos
  - Documentar diferen√ßas individual vs top-N vs sequencial
  - Exemplos de configura√ß√£o JSON completa

- [ ] **Resolver Limita√ß√£o CCB** (PDD por ativo vs por cedente)
  - Implementar detec√ß√£o de tipo de ativo (CCB vs outros)
  - Aplicar l√≥gica por ativo apenas para CCB
  - Manter l√≥gica por cedente para demais tipos

- [ ] **Implementar Monitores Customizados** (0/20+ identificados)
  - SuperSim: `recovery_rate_mensal`
  - AFA: `sacados_especificos_bmp`
  - UpVendas: `substituicao_pix_parcelado`

### üí° BAIXA PRIORIDADE
- [ ] **Dashboard de Exce√ß√µes** (Fase 2 do PRD)
  - Consolidar apenas viola√ß√µes
  - Priorizar por severidade (cr√≠tico/alto/m√©dio)
  - Indicar a√ß√µes corretivas necess√°rias

- [ ] **An√°lise de Fluxo de Caixa** (Fase 3 do PRD)
  - Proje√ß√£o de recebimentos futuros
  - Cen√°rios base/otimista/pessimista
  - Considera√ß√£o de sazonalidade

- [ ] **Otimiza√ß√£o de Performance**
  - Processamento paralelo por pools
  - Cache inteligente com TTL
  - Leitura seletiva de colunas

## üöÄ Pr√≥xima A√ß√£o Recomendada
**Testar An√°lise Top-N de Concentra√ß√£o** - validar nova funcionalidade implementada antes de prosseguir com monitor de elegibilidade

## üìà Progresso da Sess√£o
- Framework Daily Sync executado com sucesso ‚úÖ
- Documenta√ß√£o sincronizada e validada ‚úÖ
- Arquivos temporais organizados (exp_to_do_20250715.md) ‚úÖ
- Contexto completo carregado ‚úÖ
- An√°lise top-N de concentra√ß√£o identificada ‚úÖ